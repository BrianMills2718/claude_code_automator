2025-06-19 12:29:18,809 - __main__ - INFO - 📝 V4 fixes test logging to file: /home/brian/cc_automator4/tools/debug/logs/v4_fixes_test_20250619_122918.txt
2025-06-19 12:29:18,809 - asyncio - DEBUG - Using selector: EpollSelector
2025-06-19 12:29:18,809 - __main__ - INFO - ============================================================
2025-06-19 12:29:18,809 - __main__ - INFO - V4 FIXES VALIDATION TEST
2025-06-19 12:29:18,810 - __main__ - INFO - ============================================================
2025-06-19 12:29:18,810 - __main__ - INFO - 🎯 Goal: Validate that V4 fixes resolve TaskGroup cleanup issues
2025-06-19 12:29:18,810 - __main__ - INFO - 
🧪 Running: V4 Basic Operations
2025-06-19 12:29:18,810 - __main__ - INFO - 🔧 Testing V4 fixed basic operations...
2025-06-19 12:29:18,810 - __main__ - INFO - 🚀 Starting V4 fixed SDK query...
2025-06-19 12:29:18,810 - src.claude_code_sdk_fixed_v4 - INFO - 📝 V4 SDK fixes logging to file: /home/brian/cc_automator4/tools/debug/logs/sdk_v4_fixes_20250619_122918.txt
2025-06-19 12:29:18,810 - src.claude_code_sdk_fixed_v4 - INFO - 🚀 Starting SDK query with V4 fixes (session: session_1750361358810)
2025-06-19 12:29:18,810 - src.claude_code_sdk_fixed_v4 - DEBUG - 🔧 Entering managed context for session: session_1750361358810
2025-06-19 12:29:19,464 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361358810)
2025-06-19 12:29:19,464 - __main__ - INFO - 📨 V4 Message: unknown
2025-06-19 12:29:22,275 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361358810)
2025-06-19 12:29:22,275 - __main__ - INFO - 📨 V4 Message: unknown
2025-06-19 12:29:23,259 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361358810)
2025-06-19 12:29:23,260 - __main__ - INFO - 📨 V4 Message: unknown
2025-06-19 12:29:23,310 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361358810)
2025-06-19 12:29:23,310 - __main__ - INFO - 📨 V4 Message: unknown
2025-06-19 12:29:26,170 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361358810)
2025-06-19 12:29:26,170 - __main__ - INFO - 📨 V4 Message: unknown
2025-06-19 12:29:26,215 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361358810)
2025-06-19 12:29:26,215 - __main__ - INFO - 📨 V4 Message: unknown
2025-06-19 12:29:33,410 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361358810)
2025-06-19 12:29:33,411 - __main__ - INFO - 📨 V4 Message: unknown
2025-06-19 12:29:33,866 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361358810)
2025-06-19 12:29:33,866 - __main__ - INFO - 📨 V4 Message: unknown
2025-06-19 12:29:33,885 - src.claude_code_sdk_fixed_v4 - ERROR - 🔧 Cleanup error for session session_1750361358810: module 'asyncio' has no attribute 'timeout'
2025-06-19 12:29:33,885 - src.claude_code_sdk_fixed_v4 - DEBUG - 🧹 Session session_1750361358810 cleaned up successfully
2025-06-19 12:29:33,885 - __main__ - INFO - ✅ V4 fixed operations completed in 15.1s
2025-06-19 12:29:33,885 - __main__ - INFO - 📊 V4 total messages: 8
2025-06-19 12:29:33,885 - __main__ - INFO - V4 Basic Operations: ✅ PASSED - V4 Success: 8 messages in 15.1s
2025-06-19 12:29:33,885 - __main__ - INFO - 
🧪 Running: V4 WebSearch (TaskGroup Trigger)
2025-06-19 12:29:33,885 - __main__ - INFO - 🔧 Testing V4 fixed WebSearch operations...
2025-06-19 12:29:33,885 - __main__ - INFO - 🌐 Starting V4 fixed WebSearch...
2025-06-19 12:29:33,885 - src.claude_code_sdk_fixed_v4 - INFO - 🚀 Starting SDK query with V4 fixes (session: session_1750361373885)
2025-06-19 12:29:33,885 - src.claude_code_sdk_fixed_v4 - DEBUG - 🔧 Entering managed context for session: session_1750361373885
2025-06-19 12:29:34,598 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361373885)
2025-06-19 12:29:34,598 - __main__ - INFO - 📨 V4 WebSearch message: unknown
2025-06-19 12:29:37,796 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361373885)
2025-06-19 12:29:37,796 - __main__ - INFO - 📨 V4 WebSearch message: unknown
2025-06-19 12:30:10,208 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361373885)
2025-06-19 12:30:10,208 - __main__ - INFO - 📨 V4 WebSearch message: unknown
2025-06-19 12:30:14,981 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361373885)
2025-06-19 12:30:14,981 - __main__ - INFO - 📨 V4 WebSearch message: unknown
2025-06-19 12:30:15,013 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361373885)
2025-06-19 12:30:15,014 - __main__ - INFO - 📨 V4 WebSearch message: unknown
2025-06-19 12:30:15,030 - src.claude_code_sdk_fixed_v4 - ERROR - 🔧 Cleanup error for session session_1750361373885: module 'asyncio' has no attribute 'timeout'
2025-06-19 12:30:15,031 - src.claude_code_sdk_fixed_v4 - DEBUG - 🧹 Session session_1750361373885 cleaned up successfully
2025-06-19 12:30:15,031 - __main__ - INFO - 🌐 V4 fixed WebSearch completed in 41.1s
2025-06-19 12:30:15,031 - __main__ - INFO - 📊 V4 WebSearch messages: 5
2025-06-19 12:30:15,031 - __main__ - INFO - V4 WebSearch (TaskGroup Trigger): ✅ PASSED - V4 WebSearch success: 5 messages in 41.1s
2025-06-19 12:30:15,031 - __main__ - INFO - 
🧪 Running: V4 Multiple Sessions Cleanup
2025-06-19 12:30:15,031 - __main__ - INFO - 🔧 Testing V4 multiple sessions cleanup...
2025-06-19 12:30:15,031 - __main__ - INFO - 🔄 V4 session test 1/3...
2025-06-19 12:30:15,031 - src.claude_code_sdk_fixed_v4 - INFO - 🚀 Starting SDK query with V4 fixes (session: session_1750361415031)
2025-06-19 12:30:15,031 - src.claude_code_sdk_fixed_v4 - DEBUG - 🔧 Entering managed context for session: session_1750361415031
2025-06-19 12:30:15,700 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361415031)
2025-06-19 12:30:19,209 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361415031)
2025-06-19 12:30:19,259 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361415031)
2025-06-19 12:30:21,504 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361415031)
2025-06-19 12:30:21,594 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361415031)
2025-06-19 12:30:21,602 - src.claude_code_sdk_fixed_v4 - ERROR - 🔧 Cleanup error for session session_1750361415031: module 'asyncio' has no attribute 'timeout'
2025-06-19 12:30:21,602 - src.claude_code_sdk_fixed_v4 - DEBUG - 🧹 Session session_1750361415031 cleaned up successfully
2025-06-19 12:30:21,602 - __main__ - INFO - ✅ V4 Session 1 completed: 5 messages
2025-06-19 12:30:21,602 - __main__ - INFO - 📊 V4 Wrapper status: {'active_sessions': 0, 'session_ids': [], 'log_file': '/home/brian/cc_automator4/tools/debug/logs/sdk_v4_fixes_20250619_122918.txt', 'cleanup_timeout': 10.0}
2025-06-19 12:30:22,603 - __main__ - INFO - 🔄 V4 session test 2/3...
2025-06-19 12:30:22,603 - src.claude_code_sdk_fixed_v4 - INFO - 🚀 Starting SDK query with V4 fixes (session: session_1750361422603)
2025-06-19 12:30:22,604 - src.claude_code_sdk_fixed_v4 - DEBUG - 🔧 Entering managed context for session: session_1750361422603
2025-06-19 12:30:23,273 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361422603)
2025-06-19 12:30:25,721 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361422603)
2025-06-19 12:30:25,762 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361422603)
2025-06-19 12:30:27,857 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361422603)
2025-06-19 12:30:27,883 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361422603)
2025-06-19 12:30:27,890 - src.claude_code_sdk_fixed_v4 - ERROR - 🔧 Cleanup error for session session_1750361422603: module 'asyncio' has no attribute 'timeout'
2025-06-19 12:30:27,890 - src.claude_code_sdk_fixed_v4 - DEBUG - 🧹 Session session_1750361422603 cleaned up successfully
2025-06-19 12:30:27,890 - __main__ - INFO - ✅ V4 Session 2 completed: 5 messages
2025-06-19 12:30:27,891 - __main__ - INFO - 📊 V4 Wrapper status: {'active_sessions': 0, 'session_ids': [], 'log_file': '/home/brian/cc_automator4/tools/debug/logs/sdk_v4_fixes_20250619_122918.txt', 'cleanup_timeout': 10.0}
2025-06-19 12:30:28,892 - __main__ - INFO - 🔄 V4 session test 3/3...
2025-06-19 12:30:28,892 - src.claude_code_sdk_fixed_v4 - INFO - 🚀 Starting SDK query with V4 fixes (session: session_1750361428892)
2025-06-19 12:30:28,892 - src.claude_code_sdk_fixed_v4 - DEBUG - 🔧 Entering managed context for session: session_1750361428892
2025-06-19 12:30:29,575 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361428892)
2025-06-19 12:30:34,497 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361428892)
2025-06-19 12:30:34,741 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361428892)
2025-06-19 12:30:37,057 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361428892)
2025-06-19 12:30:37,109 - src.claude_code_sdk_fixed_v4 - DEBUG - 📨 Message: unknown (session: session_1750361428892)
2025-06-19 12:30:37,117 - src.claude_code_sdk_fixed_v4 - ERROR - 🔧 Cleanup error for session session_1750361428892: module 'asyncio' has no attribute 'timeout'
2025-06-19 12:30:37,118 - src.claude_code_sdk_fixed_v4 - DEBUG - 🧹 Session session_1750361428892 cleaned up successfully
2025-06-19 12:30:37,118 - __main__ - INFO - ✅ V4 Session 3 completed: 5 messages
2025-06-19 12:30:37,118 - __main__ - INFO - 📊 V4 Wrapper status: {'active_sessions': 0, 'session_ids': [], 'log_file': '/home/brian/cc_automator4/tools/debug/logs/sdk_v4_fixes_20250619_122918.txt', 'cleanup_timeout': 10.0}
2025-06-19 12:30:38,119 - __main__ - INFO - 📊 V4 Final wrapper status: {'active_sessions': 0, 'session_ids': [], 'log_file': '/home/brian/cc_automator4/tools/debug/logs/sdk_v4_fixes_20250619_122918.txt', 'cleanup_timeout': 10.0}
2025-06-19 12:30:38,119 - __main__ - INFO - V4 Multiple Sessions Cleanup: ✅ PASSED - V4 Cleanup test: 0 sessions remain
2025-06-19 12:30:38,119 - __main__ - INFO - 
============================================================
2025-06-19 12:30:38,119 - __main__ - INFO - V4 FIXES TEST RESULTS
2025-06-19 12:30:38,119 - __main__ - INFO - ============================================================
2025-06-19 12:30:38,119 - __main__ - INFO - V4 Basic Operations: ✅ PASSED
2025-06-19 12:30:38,119 - __main__ - INFO - V4 WebSearch (TaskGroup Trigger): ✅ PASSED
2025-06-19 12:30:38,119 - __main__ - INFO - V4 Multiple Sessions Cleanup: ✅ PASSED
2025-06-19 12:30:38,119 - __main__ - INFO - 
Overall: 3/3 tests passed
2025-06-19 12:30:38,119 - __main__ - INFO - 📝 Full logs saved to: /home/brian/cc_automator4/tools/debug/logs/v4_fixes_test_20250619_122918.txt
2025-06-19 12:30:38,119 - __main__ - INFO - 🎉 All V4 fixes PASSED - TaskGroup issues resolved!
2025-06-19 12:30:38,119 - __main__ - INFO - ✅ V4 SDK is ready for integration into main system
